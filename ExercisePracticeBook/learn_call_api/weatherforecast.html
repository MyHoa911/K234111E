<!DOCTYPE html>
<html lang="vi">
    <head>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D·ª± B√°o Th·ªùi Ti·∫øt</title>
    <style>
        /* === Reset + base === */
        * { margin:0; padding:0; box-sizing:border-box; font-family: 'Poppins', sans-serif; }
        html,body { height:100%; }

        /* === Background ƒë·ªông nh·∫π === */
        body {
        background: linear-gradient(120deg, #89f7fe 0%, #66a6ff 30%, #f6d365 70%, #fda085 100%);
        background-size: 400% 400%;
        animation: bgShift 18s ease infinite;
        min-height:100vh;
        display:flex;
        flex-direction:column;
        align-items:center;
        justify-content:flex-start;
        padding:28px 20px 60px; /* th√™m top padding ƒë·ªÉ select kh√¥ng b·ªã che */
        color:#333;
        }
        @keyframes bgShift {
        0%{ background-position:0% 50%; } 50%{ background-position:100% 50%; } 100%{ background-position:0% 50%; }
        }

        /* === Title + select === */
        h3 {
        color:#fff;
        font-size:2.2rem;
        margin-bottom:14px;
        text-shadow:0 0 10px rgba(255,255,255,0.6);
        }

        .select-wrapper { text-align:center; margin-bottom:18px; width:100%; display:flex; justify-content:center; }
        #provinces{
        padding:10px 20px;
        border:none;
        border-radius:28px;
        background:linear-gradient(90deg,#00c6ff,#0072ff);
        color:#fff;font-weight:600;font-size:15px;
        box-shadow:0 8px 20px rgba(0,0,0,0.16);
        outline:none; cursor:pointer;
        transition:transform .22s ease, box-shadow .22s ease;
        min-width:260px;
        }
        #provinces:hover{ transform:translateY(-3px); box-shadow:0 14px 26px rgba(0,0,0,0.18); }

        /* === Khung ch√≠nh cƒÉn gi·ªØa === */
        .weather-wrapper {
        width:100%;
        max-width:980px;              /* gi·ªõi h·∫°n r·ªông ƒë·ªÉ kh√¥ng qu√° to */
        margin: 0 auto;
        display:flex;
        justify-content:center;
        }

        .weather-info {
        width:100%;
        background: linear-gradient(180deg, rgba(255,255,255,0.12), rgba(255,255,255,0.08));
        border-radius:22px;
        padding:28px 28px 36px;
        box-shadow: 0 18px 40px rgba(20,30,50,0.18), inset 0 1px 0 rgba(255,255,255,0.03);
        backdrop-filter: blur(8px);
        color: #fff;
        transition: transform .25s ease;
        overflow: visible;
        }

        /* === Current block === */
        .current-weather { text-align:center; padding:12px 8px 8px; }
        .current-weather h2 { font-size:1.5rem; font-weight:700; margin-bottom:6px; display:flex; align-items:center; justify-content:center; gap:8px;}
        .current-weather .temp {
        font-size:3.2rem;                  /* gi·∫£m so v·ªõi tr∆∞·ªõc */
        font-weight:800;
        margin:8px 0;
        color:#fff;
        /* gi·∫£m c∆∞·ªùng ƒë·ªô glow */
        text-shadow: 0 0 10px rgba(255,255,255,0.9), 0 6px 18px rgba(255,150,120,0.18);
        }
        .current-weather .description {
        font-size:1.05rem;
        color: rgba(255,235,205,0.95);
        margin-bottom:6px;
        }
        .current-weather .feels { color: rgba(255,255,255,0.85); font-size:0.95rem; }

        /* === Hourly forecast (slider ngang) === */
        .hourly-forecast { margin-top:18px; }
        .hourly-forecast h3 {
        font-size:1.05rem; margin-bottom:12px; color:#fff;
        text-align:center; text-shadow:0 0 8px rgba(0,0,0,0.12);
        }

        .hourly-list {
        display:flex;
        gap:14px;
        padding:10px;
        overflow-x:auto;
        -webkit-overflow-scrolling:touch;
        scroll-behavior:smooth;
        align-items:flex-start;
        /* lo·∫°i b·ªè "v·ªát tr·∫Øng" b·∫±ng background t·ª± nhi√™n */
        background: transparent;
        margin:0 6px;
        }

        /* scrollbar m·∫£nh, t·ªëi gi·∫£n */
        .hourly-list::-webkit-scrollbar { height:8px; }
        .hourly-list::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.25); border-radius:6px; }

        .hour-item {
        min-width:110px;                  /* nh·ªè h∆°n tr∆∞·ªõc */
        padding:12px 10px;
        border-radius:14px;
        display:flex;
        flex-direction:column;
        align-items:center;
        gap:6px;
        background: linear-gradient(180deg, rgba(255,255,255,0.14), rgba(255,255,255,0.06));
        color:#fff;
        box-shadow: 0 8px 18px rgba(0,0,0,0.12);
        transition: transform .18s ease, box-shadow .18s ease;
        backdrop-filter: blur(4px);
        }
        .hour-item:hover { transform: translateY(-6px); box-shadow: 0 18px 30px rgba(0,0,0,0.18); }

        .hour-item .time { font-size:0.95rem; color: rgba(255,255,255,0.9); font-weight:600; }
        .hour-item .temp {
        font-size:1.55rem;                /* v·ª´a ph·∫£i */
        font-weight:700;
        /* very subtle glow only */
        text-shadow: 0 2px 8px rgba(255,255,255,0.5);
        color:#fff;
        }
        .hour-item .desc { font-size:0.9rem; color: rgba(255,255,255,0.9); }

        /* === Details grid === */
        .weather-details {
        margin-top:20px;
        display:flex;
        flex-wrap:wrap;
        gap:14px;
        justify-content:center;
        }

        .detail-item {
        min-width:140px;
        padding:12px 14px;
        border-radius:12px;
        background: linear-gradient(180deg, rgba(255,255,255,0.12), rgba(255,255,255,0.06));
        color:#fff;
        box-shadow: 0 8px 22px rgba(0,0,0,0.10);
        text-align:center;
        font-weight:600;
        font-size:0.95rem;
        }

        /* === Info box footer === */
        .info-box {
        margin-top:20px;
        padding:12px 14px;
        border-radius:12px;
        background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
        color:#fff;
        text-align:center;
        font-size:0.95rem;
        box-shadow: 0 8px 20px rgba(0,0,0,0.08);
        }

        /* Responsive nh·ªè */
        @media (max-width:640px) {
        .current-weather .temp { font-size:2.4rem; }
        .hour-item { min-width:96px; padding:10px; }
        .detail-item { min-width:120px; padding:10px; font-size:0.9rem; }
        .weather-info { padding:18px; border-radius:16px; }
        h3 { font-size:1.6rem; }
        }
    </style>
    </head>
    <body>
    <h3>üåà D·ª± B√°o Th·ªùi Ti·∫øt Vi·ªát Nam</h3>

    <div class="select-wrapper">
        <select id="provinces" onchange="show_detail_weather_forecast(this.value)">
        <option value="">Ch·ªçn t·ªânh th√†nh...</option>
        </select>
    </div>

    <div class="weather-wrapper">
        <div id="weatherDisplay" class="weather-info">
        <!-- N·ªôi dung s·∫Ω ƒë∆∞·ª£c JS ch√®n -->
        </div>
    </div>

    <script>
        // GI·ªÆ NGUY√äN JS c·ªßa b·∫°n (nh∆∞ y√™u c·∫ßu)
        const id = ['2347719','20070078','20070086','2347731','2347730','20070081','20070087','20070084','20070088','2347703','2347704','20070082','2347732','28301718','20070085','1252375','2347720','28301719','2347721','2347722','2347733','2347727','2347728','2347734','2347741','2347736','2347737','20070079','20070080','2347707','28301720','2347738','2347723','20070076','2347708','2347710','2347740','2347709','2347718','20070089','2347742','2347743','2347744','20070091','2347745','2347746','2347711','20070077','2347712','2347747','2347748','2347713','2347715','2347716','20070083','2347749','2347717','2347750','2347751','2347714','2347752','20070090','2347729','2347753'];
        const names = ['An Giang','B√¨nh D∆∞∆°ng','B√¨nh Ph∆∞·ªõc','B√¨nh Thu·∫≠n','B√¨nh ƒê·ªãnh','B·∫°c Li√™u','B·∫Øc Giang','B·∫Øc K·∫°n','B·∫Øc Ninh','B·∫øn Tre','Cao B·∫±ng','C√† Mau','C·∫ßn Th∆°','ƒêi·ªán Bi√™n','ƒê√† N·∫µng','ƒê√† L·∫°t','ƒê·∫Øk L·∫Øk','ƒê·∫Øk N√¥ng','ƒê·ªìng Nai','ƒê·ªìng Th√°p','Gia Lai','H√† N·ªôi','TP. H·ªì Ch√≠ Minh','H√† Giang','H√† Nam','H√† Tƒ©nh','H√≤a B√¨nh','H∆∞ng Y√™n','H·∫£i D∆∞∆°ng','H·∫£i Ph√≤ng','H·∫≠u Giang','Kh√°nh H√≤a','Ki√™n Giang','Kon Tum','Lai Ch√¢u','Long An','L√†o Cai','L√¢m ƒê·ªìng','L·∫°ng S∆°n','Nam ƒê·ªãnh','Ngh·ªá An','Ninh B√¨nh','Ninh Thu·∫≠n','Ph√∫ Th·ªç','Ph√∫ Y√™n','Qu·∫£ng B√¨nh','Qu·∫£ng Nam','Qu·∫£ng Ng√£i','Qu·∫£ng Ninh','Qu·∫£ng Tr·ªã','S√≥c TrƒÉng','S∆°n La','Thanh H√≥a','Th√°i B√¨nh','Th√°i Nguy√™n','Th·ª´a Thi√™n Hu·∫ø','Ti·ªÅn Giang','Tr√† Vinh','Tuy√™n Quang','T√¢y Ninh','Vƒ©nh Long','Vƒ©nh Ph√∫c','V≈©ng T√†u','Y√™n B√°i'];

        function load_provinces() {
        const provincesSelect = document.getElementById('provinces');
        for (let i = 0; i < id.length; i++) {
            const opt = document.createElement('option');
            opt.value = id[i];
            opt.textContent = names[i];
            provincesSelect.appendChild(opt);
        }
        }

        async function show_detail_weather_forecast(cityId) {
        if (!cityId) return;
        const weatherDisplay = document.getElementById('weatherDisplay');
        weatherDisplay.innerHTML = '<div class="loading">‚è≥ ƒêang t·∫£i d·ªØ li·ªáu th·ªùi ti·∫øt...</div>';
        try {
            const apiUrl = `https://utils3.cnnd.vn/ajax/weatherinfo/${cityId}.htm`;
            const response = await fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(apiUrl)}`);
            if (!response.ok) throw new Error(`HTTP ${response.status}`);
            const json = await response.json();
            const data = JSON.parse(json.contents);
            displayWeather(data, cityId);
        } catch (error) {
            weatherDisplay.innerHTML = `<div class="error">‚ùå Kh√¥ng th·ªÉ t·∫£i d·ªØ li·ªáu: ${error.message}</div>`;
        }
        }

        function displayWeather(data, cityId) {
        const weatherDisplay = document.getElementById('weatherDisplay');
        if (!data?.Data?.data?.datainfo) {
            weatherDisplay.innerHTML = '<div class="error">‚ùå D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá</div>';
            return;
        }
        const info = data.Data.data.datainfo;
        const locationName = names[id.indexOf(cityId)] || 'Kh√¥ng x√°c ƒë·ªãnh';
        let html = `
            <div class="current-weather">
            <h2>üìç ${locationName}</h2>
            <div class="temp">${info.temperature || 'N/A'}¬∞C</div>
            <div class="description">${info.status || 'ƒêang c·∫≠p nh·∫≠t'}</div>
            <div class="feels">C·∫£m gi√°c nh∆∞ ${info.feels_like || 'N/A'}¬∞C</div>
            </div>

            <div class="hourly-forecast"><h3>‚è∞ D·ª± b√°o theo gi·ªù</h3><div class="hourly-list">`;

        if (Array.isArray(info.hourly_temperature)) {
            info.hourly_temperature.forEach(h => {
            html += `
                <div class="hour-item">
                <div class="time">${h.time || 'N/A'}h</div>
                <div class="temp">${h.temperature || '?'}¬∞C</div>
                <div class="desc">${h.status || ''}</div>
                </div>`;
            });
        } else {
            html += `<div style="color:rgba(255,255,255,0.9); padding:10px;">Kh√¥ng c√≥ d·ªØ li·ªáu theo gi·ªù.</div>`;
        }

        html += `</div></div>

            <div class="weather-details">
            <div class="detail-item">üíß ƒê·ªô ·∫©m<br>${info.humidity || 'N/A'}%</div>
            <div class="detail-item">üí® Gi√≥<br>${info.wind?.index || 'N/A'}</div>
            <div class="detail-item">‚òÄÔ∏è UV<br>${info.UV_index?.index || 'N/A'}</div>
            <div class="detail-item">üåÖ B√¨nh minh<br>${info.sunrise || 'N/A'}</div>
            <div class="detail-item">üåá Ho√†ng h√¥n<br>${info.sunset || 'N/A'}</div>
            </div>

            <div class="info-box">üí° D·ªØ li·ªáu ƒë∆∞·ª£c c·∫≠p nh·∫≠t t·ª´ h·ªá th·ªëng d·ª± b√°o th·ªùi ti·∫øt Vi·ªát Nam</div>`;

        weatherDisplay.innerHTML = html;
        }

        // Kh·ªüi t·∫°o
        load_provinces();
        const hcmIndex = names.indexOf('TP. H·ªì Ch√≠ Minh');
        if (hcmIndex !== -1) {
        document.getElementById('provinces').value = id[hcmIndex];
        show_detail_weather_forecast(id[hcmIndex]);
        }
    </script>
    </body>
</html>
